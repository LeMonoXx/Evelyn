<div class="blueprintSummaryContainer">
    <table mat-table [dataSource]="subComponentsObs" class="blueprintSummaryTable">

        <ng-container matColumnDef="requiredBpcAmount">
            <th mat-header-cell *matHeaderCellDef class="requiredBpcAmount">Count</th>
            <td mat-cell *matCellDef="let element" class="requiredBpcAmount" title="Number of required Blueprint Copies">
                 {{ calculateRequiredBPCAmount(element.requiredRuns, element.material.quantity) | number }} 
            </td>
        </ng-container>
    
        <ng-container matColumnDef="image">
            <th mat-header-cell *matHeaderCellDef  class="imageColumn">Image</th>
            <td mat-cell *matCellDef="let component" class="imageColumn">
                <img class="foundItemImage" [src]="getImageForItem(component.bpoItem?.type_id)">
            </td>
        </ng-container>
    
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef class="nameColumn">BPC</th>
            <td mat-cell *matCellDef="let component" class="nameColumn"
            (click)="copy(component.bpoItem?.name)">
                <div [title]="component.bpoItem?.name">{{component.bpoItem?.name}}</div> 
            </td>
        </ng-container>

        <ng-container matColumnDef="facility">
            <th mat-header-cell *matHeaderCellDef class="facilityColumn">Facility</th>
            <td mat-cell *matCellDef="let component" class="facilityColumn"
            (click)="copy(component.prodFacility?.name)"> 
                <div [title]="component.prodFacility?.name">{{ component.prodFacility?.name }}</div> 
            </td>
        </ng-container>

        <ng-container matColumnDef="requiredRuns">
            <th mat-header-cell *matHeaderCellDef class="blueprintSummaryRightColumn">Runs</th>
            <td mat-cell *matCellDef="let element" class="blueprintSummaryRightColumn"> 
                <div>{{ element.requiredRuns | number }}</div> 
            </td>
        </ng-container>
    
        <ng-container matColumnDef="requiredAmount">
            <th mat-header-cell *matHeaderCellDef class="blueprintSummaryRightColumn">Products</th>
            <td mat-cell *matCellDef="let element" class="blueprintSummaryRightColumn"> 
                <div>{{element.requiredAmount | number }}</div> 
            </td>
        </ng-container>

        <ng-container matColumnDef="overflow">
            <th mat-header-cell *matHeaderCellDef class="blueprintSummaryRightColumn">Overflow</th>
            <td mat-cell *matCellDef="let element" class="blueprintSummaryRightColumn"> 
                <div>{{element.overflow | number }}</div> 
            </td>
        </ng-container>        
        
        <ng-container matColumnDef="jobCost">
            <th mat-header-cell *matHeaderCellDef class="blueprintSummaryRightColumn">Job cost</th>
            <td mat-cell *matCellDef="let element" class="blueprintSummaryRightColumn"> 
                <div>{{element.jobCost | number }}</div> 
            </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="['requiredBpcAmount', 'image', 'name', 'facility', 'requiredRuns', 'requiredAmount', 'overflow', 'jobCost']"></tr>
        <tr mat-row *matRowDef="let row; columns: ['requiredBpcAmount', 'image', 'name', 'facility', 'requiredRuns', 'requiredAmount', 'overflow', 'jobCost']"></tr>
    </table>
    
</div>

